# Coldjail ‚ùÑÔ∏èüß±

---

O **Coldjail** √© um experimento de isolamento de processos para sistemas Linux, desenvolvido do zero (`from scratch`) com o objetivo de explorar as capacidades nativas do Kernel 
para a cria√ß√£o de sandboxes e containers minimalistas.

Diferente de ferramentas complexas como o Firejail, o Coldjail foca no uso direto de chamadas de sistema (**syscalls**) para garantir uma base de c√≥digo pequena, audit√°vel e 
altamente educativa. 


## üéØ Objetivos do Projeto

- **Isolamento de Filesystem:** Utiliza√ß√£o de `pivot_root` e mount namespaces para criar uma raiz (`/`) totalmente independente do sistema hospedeiro.

- **Isolamento de Processos:** Uso de `PID Namespaces` para que o processo enjaulado n√£o consiga visualizar ou interagir com processos externos.

- **Minimalismo:** Depend√™ncia zero de bibliotecas externas (al√©m da `glibc`) e foco em bin√°rios est√°ticos (como BusyBox).

- **Aprendizado de Baixo N√≠vel:** Implementa√ß√£o manual de montagens de sistemas virtuais (`/proc`, `/sys`, `/dev`).


## üõ†Ô∏è Arquitetura e Implementa√ß√£o

O projeto segue uma abordagem modular de desenvolvimento:

- **Process Management:** Cria√ß√£o de processos filhos isolados via `fork()` e `waitpid()`.

- **Namespacing:** Aplica√ß√£o de `unshare()` para desassociar recursos do host (`MNT`, `PID`, `UTS`, `IPC`).

- **Filesystem Pivoting:** Transi√ß√£o para o novo rootfs utilizando o mecanismo de `pivot_root` (superior ao `chroot` padr√£o POSIX).

- **Device Setup:** Cria√ß√£o manual de dispositivos essenciais via `mknod()`.


## üöÄ Como testar (Em desenvolvimento)

> [!WARNING]
> Atualmente, o projeto exige privil√©gios de superusu√°rio (`sudo`) para manipula√ß√£o de namespaces e pontos de montagem. N√£o √© sugerido o uso de Coldjail em ambientes de produ√ß√£o.


### Compila√ß√£o
```bash
gcc main.c -o coldjail 
```

### Execu√ß√£o (Exemplo com rootfs preparado)
```
sudo ./coldjail ./cold_jail
```

### üìú Licen√ßa e Inspira√ß√£o

Este projeto √© inspirado pelos conceitos de sandboxing do **Firejail**, mas n√£o compartilha c√≥digo com o mesmo. √â uma implementa√ß√£o original focada em estudo acad√™mico e t√©cnico de 
sistemas operacionais.
